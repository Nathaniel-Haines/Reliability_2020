renv::init()
source("~/Dropbox/Box/GitHub/Reliability_2020/Code/R/0_Preprocessing/0_make_stan_ready_all.R")
(1250-500) * 8
(3000-1000)*3
source("~/Dropbox/Box/GitHub/Reliability_2020/Code/R/1_analysis/0_fit_RT_models.R")
# Compile models
m0 <- stan_model("Code/Stan/joint_RT_normal.stan")
m1 <- stan_model("Code/Stan/joint_RT_lognormal.stan")
m2 <- stan_model("Code/Stan/joint_RT_shiftlnorm.stan")
m2
# Load preprocessed data
stan_data <- readRDS("Data/1_Preprocessed/stan_ready_all.rds")
# Lists for parellel model fitting
models <- list(m0, m1, m2)
model_names <- c("normal", "lognormal", "shift_lognormal")
data_names <- c("Study1-Flanker", "Study2-Flanker", "Study1-Stroop",
"Study2-Stroop", "Study3-Posner", "Study1a-IAT",
"Study2b-IAT")
m=1
d = data_names[1]
model_names[m]
fit <- sampling(models[[m]],
data   = stan_data[[d]],
iter   = 1250,
warmup = 500,
chains = 8,
cores  = 8,
seed   = tmp_seed,
control = list(adapt_delta = tmp_adapt))
models[[m]]
stan_data[[d]]
fit <- sampling(models[[m]],
data   = stan_data[[d]],
iter   = 1250,
warmup = 500,
chains = 8,
cores  = 8,
seed   = tmp_seed,
control = list(adapt_delta = tmp_adapt))
rstan:::rstudio_stanc("Code/Stan/joint_RT_normal.stan")
stan_data[[d]]
stan_data[[d]]$RT
table(stan_data[[d]]$RT)
mean(stan_data[[d]]$RT)
mean(stan_data[[d]]$T_subj)
mean(stan_data[[d]]$T_max)
mean(stan_data[[d]]$N_time)
mean(stan_data[[d]]$RT_min)
mean(stan_data[[d]]$correct)
fit <- sampling(models[[m]],
data   = stan_data[[d]],
iter   = 1250,
warmup = 500,
chains = 8,
cores  = 8,
seed   = tmp_seed,
control = list(adapt_delta = tmp_adapt))
install.packages("rstan")
